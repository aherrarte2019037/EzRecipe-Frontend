<nb-layout>
    <nb-layout-column class="!p-0 !bg-white">

        <section class="flex overflow-y-hidden flex-col items-center h-screen md:flex-row ">
            <div class="bg-gradient-to-t lg:flex flex-col items-center justify-center  from-pink-300 via-purple-300 to-indigo-400 hidden w-full h-screen md:w-1/3 lg:w-[55%]">
                <div class="text-skew mt-12">
                    <span class="rounded-l-md">E</span>
                    <span>Z</span>
                    <span>R</span>
                    <span>E</span>
                    <span>C</span>
                    <span>I</span>
                    <span>P</span>
                    <span class="rounded-r-md">E</span>
                </div>
                <img class="mx-10 max-w-xl" src="../../../assets/loginImage.svg">
            </div>

            <div class="flex items-center justify-center w-full h-screen px-6 bg-white md:max-w-md xl:max-w-[700px] lg:max-w-full md:mx-auto md:w-1/2 lg:px-16 xl:px-28">
                <div class="w-full h-100">

                    <a class="flex justify-center w-full items-center mb-4 font-medium text-blueGray-900 title-font md:mb-0">
                        <img class="w-28 mr-0.5" src="../../../assets/food.gif">
                    </a>

                    <h1 class="mt-4 text-2xl !font-semibold text-gray-900 tracking-ring tighter sm:text-3xl title-font">Crear Cuenta</h1>

                    <form [formGroup]="registerForm" (ngSubmit)="register()" class="mt-5">
                        <div class="flex justify-center items-center space-x-2">
                            <div class="relative w-1/2">
                                <span *ngIf="getFormError('name')" [@fadeInDownOnEnter] [@fadeOutOnLeave] class="absolute top-[52px] text-right font-medium text-xs text-red-400">{{ getFormError('name') }}</span>
                                <input formControlName="name" type="text" placeholder="Nombre" class="w-full pr-4 pl-[42px] pt-2 pb-3 mt-0.5 text-base bg-gray-100 text-gray-500 transition duration-300 ease-in-out transform border-transparent rounded-lg focus:shadow-outline focus:ring-2 ring-gray-300">
                                <nb-icon class="absolute text-gray-400 left-4 top-[16px] z-50" icon="text"></nb-icon>
                            </div>
    
                            <div class="relative w-1/2">
                                <span *ngIf="getFormError('lastname')" [@fadeInDownOnEnter] [@fadeOutOnLeave] class="absolute top-[52px] text-right font-medium text-xs text-red-400">{{ getFormError('lastname') }}</span>
                                <input formControlName="lastname" type="text" placeholder="Apellido" class="w-full pr-4 pl-[42px] pt-2 pb-3 mt-0.5 text-base bg-gray-100 text-gray-500 transition duration-300 ease-in-out transform border-transparent rounded-lg focus:shadow-outline focus:ring-2 ring-gray-300">
                                <nb-icon class="absolute text-gray-400 left-4 top-[16px] z-50" icon="text"></nb-icon>
                            </div>
                        </div>

                        <div class="relative mt-6">
                            <span *ngIf="getFormError('username')" [@fadeInDownOnEnter] [@fadeOutOnLeave] class="absolute top-[52px] text-right font-medium text-xs text-red-400">{{ getFormError('username') }}</span>
                            <input formControlName="username" type="text" placeholder="Usuario" class="w-full pr-4 pl-[42px] pt-2 pb-3 mt-0.5 text-base bg-gray-100 text-gray-500 transition duration-300 ease-in-out transform border-transparent rounded-lg focus:shadow-outline focus:ring-2 ring-gray-300">
                            <nb-icon class="absolute text-gray-400 left-4 top-[16px] z-50" icon="person"></nb-icon>
                        </div>

                        <div class="mt-6 relative">
                            <span *ngIf="getFormError('email')" [@fadeInDownOnEnter] [@fadeOutOnLeave] class="absolute top-[52px] text-right font-medium text-xs text-red-400">{{ getFormError('email') }}</span>
                            <input formControlName="email" type="email" placeholder="Correo Electrónico" class="w-full pr-4 pl-[42px] pt-2 pb-3 mt-0.5 text-base bg-gray-100 text-gray-500 transition duration-300 ease-in-out transform border-transparent rounded-lg focus:shadow-outline focus:ring-2 ring-gray-300">
                            <nb-icon class="absolute text-gray-400 left-4 top-[16px] z-50" icon="email"></nb-icon>
                        </div>

                        <div class="flex mt-6 justify-center items-center space-x-2">
                            <div class="relative w-1/2">
                                <span *ngIf="getFormError('password')" [@fadeInDownOnEnter] [@fadeOutOnLeave] class="absolute top-[52px] font-medium text-xs text-red-400">{{ getFormError('password') }}</span>
                                <input formControlName="password" type="password" placeholder="Contraseña" class="w-full pr-4 pl-[42px] pt-2 pb-3 mt-0.5 text-base bg-gray-100 text-gray-500 transition duration-300 ease-in-out transform border-transparent rounded-lg focus:shadow-outline focus:ring-2 ring-gray-300">
                                <nb-icon class="absolute text-gray-400 left-4 top-[16px] z-50" icon="lock"></nb-icon>
                            </div>

                            <div class="relative w-1/2">
                                <span *ngIf="getFormError('passwordMatch')" [@fadeInDownOnEnter] [@fadeOutOnLeave] class="absolute top-[52px] font-medium text-xs text-red-400">{{ getFormError('passwordMatch') }}</span>
                                <input formControlName="passwordMatch" type="password" placeholder="Repetir" class="w-full pr-4 pl-[42px] pt-2 pb-3 mt-0.5 text-base bg-gray-100 text-gray-500 transition duration-300 ease-in-out transform border-transparent rounded-lg focus:shadow-outline focus:ring-2 ring-gray-300">
                                <nb-icon class="absolute text-gray-400 left-4 top-[16px] z-50" icon="lock"></nb-icon>
                            </div>
                        </div>

                        <button type="submit" class="btn-login mx-auto block w-full px-4 py-2.5 mt-7 tracking-wide font-medium text-gray-50 transition duration-500 ease-in-out transform bg-[#487fff] rounded-full hover:bg-blue-600">Registrarse</button>
                    </form>

                    <div class="w-full flex text-[15px] space-x-1.5 justify-center items-center mt-5 text-gray-700">
                        <span class="font-medium text-gray-600">¿Ya tienes cuenta?</span> <button routerLink="/login" class="font-semibold text-gray-800 cursor-pointer hover:underline">Iniciar Sesion</button>
                    </div>

                </div>
            </div>
        </section>

    </nb-layout-column>
</nb-layout>

<ng-template #dialog let-data let-ref="dialogRef">
    <nb-card [@fadeInUpOnEnter] class="!rounded-2xl !pb-2 !w-[480px]">
        <nb-card-body class="flex !pb-0 w-full space-x-3 items-center justify-center">
            <img *ngIf="data.success" class="-ml-2" width="190px" src="../../../assets/succesModal.jpg">
            <img *ngIf="!data.success" class="-ml-2 mt-2" width="180px" src="../../../assets/failModal.jpg">
            <div class="flex flex-col">
                <span class="text-indigo-500 text-[22px] font-semibold my-[4px]">{{ data.title }}</span>
                <span class="!text-gray-600">{{ data.message }}</span>
            </div>
        </nb-card-body>

        <nb-card-footer class="w-full space-x-2.5 !pt-0 flex !border-none items-center justify-end">
            <button class="!rounded-xl" nbButton (click)="ref.close()">Cerrar</button>
            <button *ngIf="data.success" routerLink="/login" class="!rounded-xl !tracking-wide" hero status="success" nbButton>Ingresar</button>
        </nb-card-footer>
    </nb-card>
</ng-template>